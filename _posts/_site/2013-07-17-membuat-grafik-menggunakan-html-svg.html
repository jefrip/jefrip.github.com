---
layout: post
title: Membuat Grafik menggunakan HTML (SVG)
date: 2013-07-17 04:45:41.000000000 +07:00
categories:
- Iseng
tags:
- Charts
- d3js
- json
- SVG
status: publish
type: post
published: true
meta:
  _edit_last: '863'
  _syntaxhighlighter_encoded: '1'
  dsq_thread_id: '1506110928'
author:
  login: jefri.p
  email: jefri.p@ui.edu
  display_name: Jefri Pakpahan
  first_name: Jefri
  last_name: Pakpahan
excerpt: !ruby/object:Hpricot::Doc
  options: {}
---
<p>Beberapa waktu lalu iseng-iseng ingin membuat grafik untuk keperluan kerjaan, sempat mikir buat pakai fusionchart (grafik berbasis flash berlisensi alias bayar). Waktu tugas kuliah pernah pake fusionchart, lumayan mudah menggunakannya tapi gw hindarin sesuatu yang berbasis flash (except youtube, mdh2an nanti ga berbasis flash :D) karna flash ternyata kurang bagus dan banyak makan resource CPU ampe bikin PC hang *curhat* gmn klo smartphone, bisa meledak *lebay dan kebetulan library d3js gratis seperti library reveal.js yang saya gunakan untuk <a href="http://staff.blog.ui.ac.id/jefri.p/2013/05/selamat-tinggal-powerpoint/" title="selamat-tinggal-powerpoint" target="_blank">mengganti powerpoint</a>.<br />
Seperti biasa siapa lagi yang ditanya klo bukan ke mbah gugel. Sempat nyoba beberapa seperti <a href="http://www.chartjs.org/" title="chart.JS" target="_blank">Chart.Js</a> bagus sih tapi terlalu simpel kurang interaktif dan kurang greget gitu,hehe..<br />
Akhirnya ketemu sama 1 library javascript yaitu <a href="http://d3js.org/" title="d3.js" target="_blank">D3.js</a> menurut keterangan websitenya :<br />
<a href="http://d3js.org/"><img src="assets/d3js.png" alt="d3js" width="968" height="456" class="aligncenter size-full wp-image-231" /></a><!--more--></p>
<blockquote><p>
D3.js is a JavaScript library for manipulating documents based on data. D3 helps you bring data to life using HTML, SVG and CSS. D3â€™s emphasis on web standards gives you the full capabilities of modern browsers without tying yourself to a proprietary framework, combining powerful visualization components and a data-driven approach to DOM manipulation.
</p></blockquote>
<p>Yes this is what i want! Terlebih saat melihat <a href="https://github.com/mbostock/d3/wiki/Gallery" title="D3js examples gallery" target="_blank">contoh-contoh grafiknya</a>, banyak sekali, menantang dan cukup gereget lihatnya. Sehingga pilihan hati gw jatuh kepada d3.js :D, tapi cinta tetep buat si pacar *lho*.<br />
D3.js menggunakan syntax SVG dalam HTML dan mendukung banyak browser desktop bahkan mobile, berikut link tabel-tabel terhadap <a href="http://caniuse.com/svg" target="_blank">dukungan SVG pada HTML</a>. Pertama nyoba sih agak susah, tapi dari contoh-contohnya cukup mudah kebetulan saya hanya menggunakan Basic Chart saja.<br />
<a href="http://bl.ocks.org/mbostock/3883245" title="Line Chart" target="_blank">Line Chart</a> menggunakan data dari format JSON :<br />
[html]<br />
&lt;!DOCTYPE html&gt;<br />
&lt;meta charset=&quot;utf-8&quot;&gt;<br />
&lt;style&gt;</p>
<p>body {<br />
  font: 10px sans-serif;<br />
}</p>
<p>.axis path,<br />
.axis line {<br />
  fill: none;<br />
  stroke: #000;<br />
  shape-rendering: crispEdges;<br />
}</p>
<p>.x.axis path {<br />
  display: none;<br />
}</p>
<p>.line {<br />
  fill: none;<br />
  stroke: steelblue;<br />
  stroke-width: 1.5px;<br />
}</p>
<p>&lt;/style&gt;<br />
&lt;body&gt;<br />
&lt;script src=&quot;d3.js&quot;&gt;&lt;/script&gt;<br />
&lt;script&gt;</p>
<p>var margin = {top: 20, right: 20, bottom: 30, left: 50},<br />
    width = 960 - margin.left - margin.right,<br />
    height = 500 - margin.top - margin.bottom;</p>
<p>var parseDate = d3.time.format(&quot;%d-%b-%y&quot;).parse;</p>
<p>var x = d3.time.scale()<br />
    .range([0, width]);</p>
<p>var y = d3.scale.linear()<br />
    .range([height, 0]);</p>
<p>var xAxis = d3.svg.axis()<br />
    .scale(x)<br />
    .orient(&quot;bottom&quot;);</p>
<p>var yAxis = d3.svg.axis()<br />
    .scale(y)<br />
    .orient(&quot;left&quot;);</p>
<p>var line = d3.svg.line()<br />
    .x(function(d) { return x(d.date); })<br />
    .y(function(d) { return y(d.close); });</p>
<p>var svg = d3.select(&quot;body&quot;).append(&quot;svg&quot;)<br />
    .attr(&quot;width&quot;, width + margin.left + margin.right)<br />
    .attr(&quot;height&quot;, height + margin.top + margin.bottom)<br />
  .append(&quot;g&quot;)<br />
    .attr(&quot;transform&quot;, &quot;translate(&quot; + margin.left + &quot;,&quot; + margin.top + &quot;)&quot;);</p>
<p>d3.json(&quot;data.json&quot;, function(error, data) {<br />
  data.forEach(function(d) {<br />
    d.date = parseDate(d.date);<br />
    d.close = +d.close;<br />
  });</p>
<p>  x.domain(d3.extent(data, function(d) { return d.date; }));<br />
  y.domain(d3.extent(data, function(d) { return d.close; }));</p>
<p>  svg.append(&quot;g&quot;)<br />
      .attr(&quot;class&quot;, &quot;x axis&quot;)<br />
      .attr(&quot;transform&quot;, &quot;translate(0,&quot; + height + &quot;)&quot;)<br />
      .call(xAxis);</p>
<p>  svg.append(&quot;g&quot;)<br />
      .attr(&quot;class&quot;, &quot;y axis&quot;)<br />
      .call(yAxis)<br />
    .append(&quot;text&quot;)<br />
      .attr(&quot;transform&quot;, &quot;rotate(-90)&quot;)<br />
      .attr(&quot;y&quot;, 6)<br />
      .attr(&quot;dy&quot;, &quot;.71em&quot;)<br />
      .style(&quot;text-anchor&quot;, &quot;end&quot;)<br />
      .text(&quot;Price ($)&quot;);</p>
<p>  svg.append(&quot;path&quot;)<br />
      .datum(data)<br />
      .attr(&quot;class&quot;, &quot;line&quot;)<br />
      .att&lt;/pre&gt;line);<br />
});</p>
<p>&lt;/script&gt;<br />
[/html]</p>
<p><a href="https://gist.github.com/jefrip/6017698/raw/196fae11bff5bb8ff4424ad22a936b126dd25ba5/data.json" title="data.json" target="_blank">data.json</a></p>
<p>Hasilnya<br />
<a href="https://staff.blog.ui.ac.id/jefri.p/files/2013/07/linechart.png"><img src="assets/linechart-300x157.png" alt="linechart" width="300" height="157" class="aligncenter size-medium wp-image-225" /></a></p>
<p>beberapa troubleshooting yg pernah saya dapatkan adalah pada format date, php menghasilkan timestamp sedangkan d3.js menggunakan unix epoch (unix epoch = timestamp * 1000).</p>
<p>Dilain kesempatan grafik akan dibuat lebih interaktif.</p>
<p>See ya..</p>
